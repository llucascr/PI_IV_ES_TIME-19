name: Pull Request Info [PR]

on:
  push:
    branches:
      - caio
      - luis
      - lucas

jobs:
  notify-discord:
    runs-on: ubuntu-latest

    steps:
      - name: Check out repository
        uses: actions/checkout@v4

      - name: View Commit Information
        run: |
          echo "ğŸ”€ Push detectado na branch: ${{ github.ref_name }}"
          echo "ğŸ‘¤ Autor: ${{ github.actor }}"
          echo "ğŸ“¦ RepositÃ³rio: ${{ github.repository }}"
          echo "ğŸ§¬ SHA: ${{ github.sha }}"
          echo "ğŸ”— Commit URL: ${{ github.server_url }}/${{ github.repository_owner }}/${{ github.repository }}/commit/${{ github.sha }}"

      - name: Notify Discord Success
        if: success()
        uses: appleboy/discord-action@master
        with:
          webhook_url: ${{ secrets.DISCORD_WEBHOOK_URL }}
          color: "#1270b0"
          username: "ğŸ”” GitHub Actions - NotificaÃ§Ã£o"
          message: |
            ğŸš€ **Novo Push Realizado!**
            ğŸ‘¤ **Autor:** ${{ github.actor }}
            ğŸŒ¿ **Branch:** ${{ github.ref_name }}
            ğŸ“¦ **RepositÃ³rio:** ${{ github.repository }}
            ğŸ§¬ **Commit:** [Ver no GitHub](${{ github.server_url }}/${{ github.repository_owner }}/${{ github.repository }}/commit/${{ github.sha }})
            âœ… **Status:** ${{ job.status }}

      - name: Notify Discord Failure
        if: failure()
        uses: appleboy/discord-action@master
        with:
          webhook_url: ${{ secrets.DISCORD_WEBHOOK_URL }}
          color: "#b81d1d"
          username: "âš ï¸ GitHub Actions - Erro"
          message: |
            ğŸ’¥ **Falha ao executar o workflow!**
            ğŸ‘¤ **Autor:** ${{ github.actor }}
            ğŸŒ¿ **Branch:** ${{ github.ref_name }}
            ğŸ§¬ **Commit:** [Ver no GitHub](${{ github.server_url }}/${{ github.repository_owner }}/${{ github.repository }}/commit/${{ github.sha }})
            âŒ **Status:** ${{ job.status }}
